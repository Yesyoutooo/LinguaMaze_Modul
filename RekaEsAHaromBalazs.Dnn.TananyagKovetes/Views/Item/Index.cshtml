@inherits DotNetNuke.Web.Mvc.Framework.DnnWebViewPage<IEnumerable<TananyagKovetesRekaEsAHaromBalazs.Dnn.TananyagKovetes.Models.Passes>>

@using System.Text.RegularExpressions
@using DotNetNuke.Web.Mvc.Helpers
@using System.Linq
@using Dnn.Modules.Console



<div id="Items-@Dnn.ModuleContext.ModuleId" style="background-color: #ccaca4;">
    @if (Model.Count() > 0)
    {
        foreach (var item in Model)
        {
            if (item.TimeOfOrder.AddDays(item.Quantity * 5).Date < DateTime.UtcNow.Date)
            {
                return;
            }
            else
            {
                <div style="width: 75%;">

                    <div style="float: left; width: 33%; background-color: #f3ebe3;">
                        <div style="height: 150px; margin: auto; ">
                            <p>A bérlet lejár ekkor:</p>
                            <p>@item.TimeOfOrder.AddDays(item.Quantity * 5).ToString("yyyy.MM.dd")</p>
                            <p>Hátralévő órák száma: @item.Quantity</p>
                        </div>
                    </div>

                    <div style="float: left; width: 33%; background-color: #f3ebe3; ">
                        <div style="height: 150px;  margin: auto; ">
                            <p> @item.Name</p>
                        </div>
                    </div>

                    <div style="float: left; width: 33%; background-color: #f3ebe3; ">
                        <div style="height: 150px;  margin: auto;">
                            <a class="btn" href="@Url.Action("GetAvailableLessons", "Item", new {type = item.Type})">Elérhető időpontok megtekintése</a>
                        </div>
                    </div>

                </div>
            }
        }
    }

    @if (Model.Count() <= 0)
    {
        <p>@Dnn.LocalizeString("Úgy látszik nincs aktív bérleted.")</p>
    }
</div>
